# ===================================================
# CORTEX-7 Backend Environment Configuration Template
# ===================================================
# Copy this file to .env and fill in your actual values
# NEVER commit .env to version control!
# ===================================================

# === Environment Configuration ===
ENVIRONMENT=development
DEBUG=true

# === Database Configuration ===
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=cortex_db
DATABASE_USER=your_db_user
DATABASE_PASSWORD=your_secure_db_password
DATABASE_URL=postgresql+asyncpg://your_db_user:your_secure_db_password@localhost:5432/cortex_db
DATABASE_POOL_SIZE=5
DATABASE_MAX_OVERFLOW=10
DATABASE_ECHO=false

# === Redis Configuration ===
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_URL=redis://localhost:6379/0
REDIS_POOL_SIZE=10

# === Security ===
# Generate: python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=your_secret_key_here_use_generator_above
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
CORS_ORIGINS=["http://localhost:3000","http://localhost:8000"]
ALLOWED_HOSTS=["localhost","127.0.0.1"]

# === OpenAI Configuration ===
OPENAI_API_KEY=your_openai_api_key_here

# === Pipefy Configuration ===
PIPEFY_API_TOKEN=your_pipefy_token_here
PIPEFY_API_URL=https://app.pipefy.com/graphql

# === AWS Configuration (for S3) ===
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_REGION=us-east-2
S3_BUCKET_NAME=your-s3-bucket-name

# === Supabase Configuration ===
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_KEY=your_supabase_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key
SUPABASE_JWT_SECRET=your_supabase_jwt_secret

# === JWT Configuration ===
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=10
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7
JWT_ISSUER=auth-service
JWT_AUDIENCE=cortex-7
JWT_ALGORITHM=RS256
JWT_PRIVATE_KEY_PATH=keys/jwt_private_key.pem
JWT_PUBLIC_KEY_PATH=keys/jwt_public_key.pem
JWT_KEY_PASSWORD=
JWT_KEY_ROTATION_DAYS=90

# === Service Ports ===
GATEWAY_PORT=8000
AUTH_SERVICE_PORT=8001
FINANCIAL_SERVICE_PORT=8002
HR_SERVICE_PORT=8003
LEGAL_SERVICE_PORT=8004
PROCUREMENT_SERVICE_PORT=8005
DOCUMENTS_SERVICE_PORT=8006
SERVICE_PORT=8001
AI_SERVICE_PORT=8007

# === Service URLs (for inter-service communication) ===
# Use container names when running in Docker, localhost for local development
GATEWAY_URL=http://localhost:8000
AUTH_SERVICE_URL=http://cortex-auth:8001
FINANCIAL_SERVICE_URL=http://cortex-financial:8002
HR_SERVICE_URL=http://cortex-hr:8003
LEGAL_SERVICE_URL=http://cortex-legal:8004
PROCUREMENT_SERVICE_URL=http://cortex-procurement:8005
DOCUMENTS_SERVICE_URL=http://cortex-documents:8006
AI_SERVICE_URL=http://localhost:8007
COMPANY_SERVICE_URL=http://company-service.cortex-7.svc.cluster.local
COMPANY_SERVICE_TIMEOUT=5

# === Frontend ===
FRONTEND_URL=http://localhost:3000

# === Rate Limiting ===
RATE_LIMIT_ENABLED=true
LOGIN_RATE_LIMIT=5
REGISTER_RATE_LIMIT=3
REFRESH_RATE_LIMIT=10

# === Observability ===
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317
OTEL_SERVICE_NAME=auth-service
PROMETHEUS_PORT=9090
SENTRY_DSN=
LOG_LEVEL=DEBUG

# === Feature Flags ===
ENABLE_SWAGGER_UI=true
ENABLE_METRICS=true
ENABLE_TRACING=true

# === Celery Configuration ===
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2

# === Additional Settings ===
ANTHROPIC_API_KEY=your_anthropic_api_key_here
